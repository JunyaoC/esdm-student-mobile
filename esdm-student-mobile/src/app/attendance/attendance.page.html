<ion-content>
	<ion-refresher slot="fixed" (ionRefresh)="fetchAttendance($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

	<div class="headBar">

		<div style="display: flex;justify-content: center;align-items: center;color: #493bff;" (click)="backHome()">
			<ion-icon name="arrow-back" style="font-size: 1.5rem;margin-right: 0.5rem;" ></ion-icon>
			<span class="brand">back to home</span>
		</div>

	</div>


	<div class="wrapper">
		<h1 style="text-align: center;">Attendance</h1>
	</div>

	<div style="width: 100%;padding: 1rem;">
		<div style="display: flex;justify-content: space-between;align-items: center; padding: 1rem;background: #f2f2f2;border-radius: 1rem;width: 100%;">

			<div class="gridButton" (click)="openCamera()">
				<div class="content">
					<ion-icon name="qr-code"></ion-icon>
					<span>Scan</span>
				</div>
			</div>

			<div class="gridButton" (click)="pickPicture()">
				<div class="content">
					<ion-icon name="image"></ion-icon>
					<span>Read</span>
				</div>
			</div>

			<div class="gridButton" (click)="viewSchedule()">
				<div class="content">
					<ion-icon name="calendar"></ion-icon>
					<span>Schedule</span>
				</div>
			</div>

		</div>
	</div>

	<div style="padding: 0 1rem;">
		<h3 style="margin: 0;">Signed Attendance</h3>
		<span style="font-size: 0.8rem;opacity: 0.58;">pull down to refresh</span>
	</div>

	<ion-list>
		<ion-item *ngFor="let record of attendance_records">
			<ion-label>
				<h1>{{record.subject_name}}</h1>
				<h3>{{record.subject_code}} Section {{record.section_number}}</h3>
			</ion-label>

			<ion-note style="text-align: right;">
				<span>{{record.attendance_timestamp | date : 'shortTime'}}</span><br>
				 <span>{{record.attendance_timestamp | date : 'dd MMM yyyy'}}</span>
			</ion-note>
		</ion-item>
	</ion-list>

	<canvas style="display: none;z-index: -1;" id="c"></canvas>

</ion-content>
